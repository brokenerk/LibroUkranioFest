#include "Solicitud.h"
#include <string.h>
#include <unistd.h>
#include <iostream>
using namespace std;
int randNum();
int main(int argc, char *argv[])
{
	if (argc != 3)
	{
		printf("Forma de uso: %s ip_servidor n\n", argv[0]);
		exit(0);
	}

	Solicitud s;
	char* cadena = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent lorem eros, sollicitudin quis lobortis vel, elementum vel sem. Maecenas placerat felis eu velit maximus fringilla. Vivamus hendrerit elit eu urna mollis faucibus. Nullam hendrerit eros magna. Nunc consequat laoreet vestibulum. Duis porta sodales enim eget placerat. Etiam scelerisque cursus nibh, et ornare ipsum dapibus consequat. Mauris at rutrum nisl. Aliquam pretium pulvinar aliquam. Vivamus commodo quam at odio vestibulum, eget rhoncus dui facilisis. Donec fringilla, quam a dictum malesuada, nisl magna ultricies ipsum, vitae ultrices eros velit vitae libero. Fusce eleifend orci dui, ut dignissim leo consequat id. Aliquam erat volutpat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Curabitur feugiat lacus id nisl mattis, vitae aliquet dui porttitor. Integer fringilla lacus ut felis maximus, ac facilisis libero efficitur. Pellentesque mattis nibh sed quam pellentesque eleifend. Aliquam ante risus, ultricies non leo sed, dignissim luctus eros. Vestibulum imperdiet erat vitae purus eleifend porttitor. Mauris sed scelerisque arcu. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Interdum et malesuada fames ac ante ipsum primis in faucibus. Nam molestie posuere urna, sit amet tincidunt lectus mollis in. Maecenas tempus et lacus a tempor. Phasellus sapien magna, fringilla et mauris vitae, varius posuere magna. Pellentesque scelerisque lectus quis arcu euismod efficitur. Cras commodo viverra diam. Sed et nisl a ipsum luctus pulvinar. Fusce fermentum posuere lacinia. Fusce pharetra velit et gravida feugiat. Vivamus eleifend cursus iaculis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Ut metus risus, rhoncus ornare nunc eu, commodo dapibus purus. Fusce suscipit, sem a cursus dictum, mi ligula cursus mi, vitae hendrerit felis purus et dolor. Nullam accumsan felis vitae ullamcorper pharetra. Cras accumsan luctus euismod. Nullam bibendum, lacus sit amet malesuada pellentesque, eros risus accumsan lacus, id egestas quam leo et nisi. Suspendisse pulvinar eu tellus lobortis fringilla. Suspendisse iaculis pretium felis sit amet dapibus. Etiam sagittis enim vel nulla sagittis, eget eleifend risus aliquet. In tempor lectus tortor, et sagittis ex rutrum vel. Morbi nisl mi, hendrerit ut congue eu, pellentesque sit amet neque. Praesent malesuada pellentesque orci, eu laoreet diam. Nullam eget leo vel enim pellentesque mattis pulvinar at massa. Praesent quis ornare quam. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aliquam vitae ligula consectetur sapien luctus porta non eu tellus. Integer tempus vestibulum porttitor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse rutrum mollis nunc sed vestibulum. Vivamus porttitor neque sit amet lacus condimentum, ac blandit odio scelerisque. Morbi vitae hendrerit velit. Donec pretium, augue sed ultricies molestie, nisi erat lacinia nisi, nec placerat enim metus vitae erat. Vivamus semper tellus ut rutrum dictum. Donec ipsum augue, dignissim sed ultricies vitae, lacinia sed dolor. Nam at lectus ac nibh consequat ornare. Donec a dui eu tellus efficitur interdum in non felis. Aliquam aliquet posuere velit ut maximus. Etiam porttitor mi ac arcu facilisis vestibulum. Suspendisse in hendrerit lectus, eget gravida neque. Phasellus id sodales arcu, sit amet pellentesque nisl. Donec finibus urna ac mattis hendrerit. Maecenas pharetra, lorem nec lobortis ultricies, velit dolor ultrices justo, in bibendum est purus dignissim lorem. Maecenas aliquet ante nec pellentesque rhoncus. Nunc non egestas tellus. Nunc arcu lorem, tincidunt vitae turpis a, semper sagittis urna. Donec vehicula metus id diam lacinia, sit amet cursus quam rhoncus. Donec ut mauris id odio euismod viverra a vel arcu. Integer efficitur vulputate dui, et scelerisque risus semper id. Nulla pretium luctus diam. Cras a fringilla diam, ac finibus lacus. Quisque vitae lectus purus. Pellentesque feugiat neque quis dolor vestibulum, ut pellentesque est cursus. Nullam dapibus bibendum lacus, quis mattis mi dignissim quis. Duis aliquam tristique nulla, id mollis quam placerat eu. In pharetra malesuada leo semper aliquam. Sed arcu tellus, efficitur vitae imperdiet id, imperdiet vel lacus. Nulla venenatis nisi sit amet molestie rutrum. Morbi ultricies ullamcorper nisi, id ornare urna ultrices sit amet. Mauris rhoncus quis quam vitae fermentum. In mattis faucibus massa, sit amet dignissim ex sodales vel. Suspendisse ut massa vitae nunc feugiat pretium. Phasellus id neque sed diam congue tincidunt. In vestibulum posuere libero non rutrum. Etiam eu massa malesuada, pharetra nibh sed, elementum nisl. Etiam eu gravida mi, quis mollis nibh. Suspendisse accumsan euismod nibh, sed commodo justo sodales ac. Duis eleifend euismod consequat. Morbi ut tempor justo. Fusce rutrum elementum ultrices. Praesent mattis sem leo, vel auctor purus vestibulum ut. Aliquam ut tellus sit amet nisi cursus tristique sed sed nulla. Curabitur mollis nibh a fermentum euismod. Nam sit amet pulvinar dolor, a viverra tortor. Curabitur dui ligula, mollis eget auctor vitae, sollicitudin ac massa. Curabitur tortor massa, fermentum ac rhoncus at, faucibus eu lorem. Nullam quis pulvinar sem. Nam suscipit maximus arcu eu aliquet. Nam rhoncus tellus id venenatis tincidunt. Pellentesque vel nisi suscipit, dictum nisi eu, hendrerit lectus. Mauris ut facilisis justo. Nunc eu pellentesque erat. Pellentesque tempus egestas leo eu pulvinar. Cras metus magna, mattis a quam et, ultrices imperdiet nisl. Vestibulum ullamcorper massa convallis velit commodo, eu interdum mi ullamcorper. Nam vitae sapien eget ligula pharetra ullamcorper quis a mauris. In vel ornare purus. Vivamus nibh tortor, ultrices ut congue non, sagittis vel mauris. In ex turpis, elementum sed dolor eget, dapibus rutrum purus. Nulla ex dui, venenatis ac odio in, tincidunt ultricies magna. Vivamus dolor nisl, viverra id feugiat pellentesque, imperdiet eu elit. Aenean varius, ante iaculis cursus convallis, mi felis volutpat magna, vitae varius ex sapien ac metus. Nam vel pharetra urna. Duis condimentum, quam in tempus aliquam, nulla eros lobortis eros, vitae tristique leo enim id magna. Fusce orci justo, blandit sit amet convallis id, lacinia sit amet tellus. Nulla in quam laoreet, tincidunt nunc sed, gravida ante. Duis at tortor est. Mauris lobortis turpis eget risus varius condimentum. Donec tempus hendrerit est. Morbi sed dui purus. Phasellus sit amet gravida erat. In lectus tortor, elementum ac tempor sed, facilisis non mi. Praesent quis urna eleifend, convallis nulla a, pellentesque urna. Pellentesque dictum magna at interdum euismod. In ac sem ante. Etiam mollis, odio vitae tempor ullamcorper, est magna elementum ipsum, eu congue ante ipsum sit amet purus. Quisque aliquam rhoncus lobortis. Sed dolor neque, facilisis ac mattis vitae, tincidunt eu ex. Maecenas consequat sapien a placerat scelerisque. Donec sodales iaculis magna. Quisque id vestibulum elit, sed tincidunt orci. Aenean lacus elit, volutpat id neque et, pretium vehicula leo. Mauris et neque magna. Vivamus egestas fringilla tortor vitae tristique. Mauris id accumsan magna. Vestibulum sed ipsum sit amet velit fringilla mollis luctus non neque. Donec vestibulum molestie diam, in faucibus ante ultricies eget. Donec nisl velit, venenatis in augue non, mattis condimentum enim. Maecenas id erat commodo eros ornare laoreet. Sed porta eget tellus a tincidunt. Morbi est augue, sodales et est in, lobortis gravida velit. In eu interdum est. Mauris eu auctor tellus. Donec a scelerisque dolor. In placerat arcu eget efficitur dignissim. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Mauris pellentesque, lectus quis suscipit mattis, tellus neque porttitor lorem, non porttitor risus turpis ut dui. Nullam facilisis et urna eget euismod. Sed rhoncus neque bibendum euismod rhoncus. Nullam suscipit ac lectus et fringilla. Phasellus rhoncus nunc at auctor vehicula. Vivamus ac congue dolor. Cras vitae lorem et nisl tristique egestas. Quisque feugiat mauris in urna tempus feugiat ac vel ipsum. Nullam sapien massa, finibus sit amet libero a, pretium pharetra lectus. Ut arcu lectus, condimentum ut sodales quis, pellentesque quis risus. Proin gravida eget ipsum vel tristique. Morbi vitae libero id ante sodales pharetra. Vestibulum finibus, lorem et dapibus rutrum, lectus lorem laoreet quam, eget sodales libero odio ac nibh. Integer turpis est, faucibus at orci ut, euismod consequat purus. Suspendisse ut augue purus. Sed faucibus ac orci non placerat. Nam id quam mauris. Pellentesque at semper diam, in venenatis eros. Nullam tempor orci vitae rutrum maximus. Integer et tincidunt metus. Curabitur et mauris a felis pharetra auctor sit amet nec tellus. Vivamus vel tellus quis velit rhoncus feugiat a commodo dolor. Cras venenatis, odio eget aliquet sodales, nisl nibh viverra lacus, sed eleifend metus ligula eu est. Pellentesque sed iaculis ipsum, et euismod odio. Nulla enim mi, sagittis nec tempor quis, blandit non tellus. Vivamus placerat pulvinar eleifend. Nunc blandit dui ex, eu consectetur est elementum quis. Ut efficitur fermentum nibh, convallis tempor ante dapibus a. Etiam ac metus nec nibh finibus semper. Sed vitae venenatis velit. Nulla vitae quam ultricies, tincidunt odio id, mattis urna. Aliquam imperdiet consectetur mi in eleifend. Integer aliquet dolor a tempor accumsan. Vivamus scelerisque ut nibh in posuere. Cras ac elit faucibus augue tincidunt placerat ac et odio. Nunc eleifend tempor mauris at interdum. Integer fermentum nunc in odio faucibus lobortis. Cras a est non ex imperdiet consequat non eget lorem. Nulla ut fermentum sem. Sed interdum erat nec sollicitudin faucibus. Fusce et nibh ac enim mattis tincidunt eu non nisl. Duis urna nibh, aliquet maximus vestibulum id, volutpat nec lacus. Donec laoreet sem ut mauris egestas, vel egestas nisi accumsan. Vivamus posuere, arcu ut interdum consectetur, turpis tortor ornare diam, ac sollicitudin lorem dui et lorem. Integer eget arcu quis dui scelerisque feugiat. Donec id fringilla odio, nec vestibulum lorem. Sed eros mauris, tempor quis pulvinar ut, dictum a nisi. Nulla convallis ultrices est, eu tincidunt orci consectetur in. Integer id ipsum vestibulum, tempus turpis in, ultrices ex. Sed nec metus efficitur, suscipit odio sed, rhoncus velit. Duis at libero vitae elit molestie suscipit. Quisque scelerisque sit amet ante quis ultrices. Donec vestibulum mattis aliquet. Donec nec mi urna. Praesent posuere mollis erat, et posuere eros condimentum ac. Sed laoreet ullamcorper erat, eget sodales odio pulvinar ut. Integer rhoncus ante sem, id mollis turpis dictum eget. Integer sit amet quam egestas, vulputate ligula non, sollicitudin libero. Sed in nulla nisl. Quisque at nulla vel sapien porta fringilla. Cras metus massa, vestibulum vel justo et, euismod congue turpis. Vivamus tincidunt tellus sit amet augue facilisis, ut euismod diam ultricies. Fusce a ligula velit. Quisque at lacus a massa placerat pellentesque a eu ex. Etiam hendrerit nisl a ex efficitur, et elementum sem ultricies. Aenean maximus dui magna, quis maximus nunc mollis consequat. Sed magna metus, lobortis sed blandit vitae, ornare eget ex. Curabitur in urna at dolor mollis dictum sed vitae est. Pellentesque faucibus turpis eu vehicula facilisis. Fusce sit amet faucibus libero. Proin vel ornare mi. Nam urna tortor, ullamcorper at nisi id, posuere aliquet massa. Aenean vel lorem at nibh convallis sodales. Sed vel imperdiet est. Duis mollis vel ex eu malesuada. Nunc ex ligula, feugiat a pulvinar non, lacinia pretium tortor. Vestibulum tempor viverra diam a ullamcorper. Aenean id turpis a dolor blandit finibus. In pulvinar eros aliquam, suscipit felis a, euismod leo. Sed pretium dui metus, et accumsan turpis convallis eget. Nullam in est in sem pulvinar elementum. Quisque mollis finibus enim ac bibendum. Nunc faucibus ligula leo, eget maximus tellus dapibus a. Praesent in iaculis enim. Ut ornare pulvinar mi ut viverra. Nunc ac nulla id sem pharetra viverra. Nam a est mollis, gravida mi at, facilisis est. Suspendisse vestibulum ex ac lorem faucibus, a finibus nisl congue. Cras arcu lorem, dictum eu maximus nec, ullamcorper vitae risus. Pellentesque porttitor, sapien vel luctus sagittis, purus sem congue nunc, a sodales velit leo id neque. Fusce a lobortis turpis, non porttitor leo. Nullam dapibus odio quis lorem porta gravida. Aliquam erat volutpat. Praesent blandit eleifend sem quis convallis. Morbi laoreet magna sed ullamcorper pretium. Donec at metus nec sem pharetra congue. Aliquam venenatis, velit vitae interdum malesuada, mauris nisi posuere sapien, ac ultrices libero mi eget urna. Donec laoreet molestie laoreet. Mauris sed libero venenatis urna dictum ultrices eget sit amet velit. Quisque pellentesque posuere tortor, eu pretium dolor eleifend a. Praesent et venenatis lacus, ullamcorper mollis mi. Duis id facilisis odio, vitae tempus eros. Etiam cursus risus vitae arcu fringilla mollis. Duis commodo justo elit, ut vestibulum libero fringilla vel. Quisque nibh dui, convallis a ultrices sit amet, sollicitudin in ipsum. Pellentesque eget mi sed mi porta mattis eu ut mi. Vestibulum scelerisque, arcu ut vestibulum euismod, ipsum tortor viverra mauris, sit amet tincidunt nisl dui eu dolor. Duis lacus felis, pharetra eget massa in, posuere tincidunt dui. Nunc sodales pharetra nunc sit amet ullamcorper. In hac habitasse platea dictumst. Vestibulum eu odio sem. Praesent elementum turpis erat, non tempor justo gravida in. Pellentesque tristique suscipit sagittis. Fusce ut erat ac justo bibendum tincidunt. Duis vel quam et enim dictum tincidunt nec eget turpis. Fusce ac leo eget justo ultrices eleifend. Morbi mattis auctor sem. Sed eleifend neque nisl, ut pharetra tellus posuere vitae. Nulla aliquet interdum tortor vel auctor. Fusce dapibus interdum cursus. Maecenas massa sapien, mollis a placerat efficitur, pulvinar ut nisl. Quisque fermentum lacus et diam laoreet ornare sed vitae purus. In mattis sapien vitae gravida vehicula. Sed vel sem ligula. Vestibulum sit amet dolor at metus imperdiet pellentesque in eget felis. In lobortis dui sed neque iaculis, sed tincidunt arcu rhoncus. Nam elementum, metus quis egestas condimentum, ex tortor pretium turpis, nec tincidunt enim magna eu libero. Maecenas congue, nulla at efficitur posuere, nisi neque aliquet mauris, non pulvinar odio elit sit amet est. Aliquam euismod dolor ac lacus blandit eleifend. Aliquam ullamcorper magna eget tincidunt dapibus. In ut nibh libero. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam dictum eleifend lectus id eleifend. Vivamus vel arcu sed purus suscipit aliquet at ut sem. Morbi non luctus mi. Donec vulputate consectetur elementum. Sed risus felis, egestas et lorem vitae, posuere eleifend erat. Integer auctor nibh at vehicula porta. Ut in aliquet eros. Sed ut pretium ipsum. Nullam tellus enim, convallis id venenatis a, dignissim eget felis. In ultrices cursus hendrerit. Fusce mollis cursus feugiat. Nullam in libero aliquet, ultricies nisi vel, posuere nibh. In id diam sit amet ex consequat semper at sed turpis. Donec bibendum elit vulputate nisl tincidunt tempor. Maecenas semper risus sed sapien eleifend tincidunt. Quisque tincidunt, felis id auctor hendrerit, est massa malesuada mi, ut tempor augue nunc et enim. Proin ullamcorper tincidunt odio, tempor venenatis diam tincidunt quis. Curabitur sit amet porta tellus, vitae efficitur diam. Vivamus blandit aliquet nisl, et sodales ipsum laoreet vitae. Pellentesque neque mi, imperdiet vel elit tempus, sollicitudin suscipit lectus. Quisque faucibus blandit elit, pretium porttitor ante viverra in. Nullam accumsan diam at odio vehicula, in maximus mi faucibus. Integer ultrices eros vitae hendrerit dictum. Vestibulum pulvinar sagittis libero, sit amet tincidunt justo ullamcorper nec. Nam gravida felis est, at tristique ante luctus eget. Integer sit amet hendrerit orci. Morbi consequat consequat nulla at egestas. Cras non lacus a nunc sagittis molestie vel in lacus. Curabitur porta porta augue, sed posuere dui rutrum et. Mauris nunc felis, efficitur nec diam in, auctor facilisis mauris. Nam finibus venenatis cursus. Vestibulum dignissim rhoncus neque non maximus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed in urna libero. Curabitur pretium risus ultricies purus rhoncus, nec varius ex imperdiet. Proin bibendum justo quis est bibendum, sit amet ullamcorper purus viverra. In rutrum, nisi sed feugiat semper, ante felis ullamcorper dui, vitae consequat ex justo ac nisi. Duis rutrum maximus felis, volutpat pellentesque ex venenatis a. Duis at eros ut dolor auctor aliquam at at orci. Ut sed pharetra augue. Etiam vel nunc a ante finibus lacinia. Praesent tincidunt leo a massa accumsan lacinia nec a est. Sed rhoncus quam libero, ac condimentum turpis rhoncus et. Pellentesque vitae dui vestibulum, scelerisque elit eget, pellentesque arcu. Donec finibus in dui sit amet tincidunt. Vivamus et leo eu mauris maximus varius. Mauris id egestas arcu. Phasellus auctor consectetur odio vitae mollis. Nam volutpat velit nec lectus dictum, in dignissim ex mollis. Pellentesque egestas odio velit, eu tempus diam faucibus non. Etiam magna ex, suscipit sit amet neque viverra, aliquet tincidunt ligula. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec dui libero, tincidunt vitae mi non, luctus vestibulum mi. Vestibulum erat neque, mollis sit amet congue ut, semper a orci. Nunc sit amet molestie libero, id luctus mi. Ut vehicula et justo id dignissim. Vivamus laoreet, felis vitae pulvinar interdum, turpis erat mattis massa, eget congue ante eros at nibh. Proin posuere enim quis ex fermentum pharetra. Morbi fermentum dui gravida augue luctus cursus. Cras in viverra sem. Quisque eu purus vitae augue congue volutpat. Vestibulum tincidunt posuere posuere. Suspendisse at nibh quis dolor semper porttitor a nec sapien. Vestibulum auctor dictum libero. Nulla placerat nisl at nulla lacinia tempus. Sed iaculis sollicitudin dictum. In venenatis sem sit amet libero molestie, quis gravida augue luctus. Nulla fermentum tellus eu sapien dignissim molestie. Praesent molestie posuere elit, eu mattis libero pellentesque at. Nulla sed tincidunt justo, ac ullamcorper lorem. Nullam tristique mattis nisi, et pretium nunc scelerisque a. Fusce ut bibendum ante. Donec quis justo vitae justo facilisis efficitur. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Pellentesque dapibus, metus non cursus volutpat, nibh ex aliquam sapien, quis tincidunt mi nisi non velit. Vestibulum egestas libero eget nisl dapibus cursus. Nulla ut magna maximus, efficitur eros eget, vehicula ex. Mauris fringilla, magna at finibus posuere, ante ex luctus lacus, nec malesuada lectus erat non enim. Suspendisse ut dui in neque mattis tristique. Nullam consequat viverra lorem at porta. Aliquam non enim id erat imperdiet tempus. Fusce semper euismod commodo. Nam volutpat risus metus. Donec quis quam at nisl laoreet feugiat non ut tortor. Donec ut tellus non ligula condimentum ornare eget eu lorem. Maecenas vitae dapibus nibh. Ut sit amet augue sed sem dictum tincidunt eu eget neque. Pellentesque fringilla ipsum eget magna bibendum, id commodo orci placerat. Mauris sollicitudin arcu at risus lobortis tincidunt. Aliquam ut turpis posuere, dictum ligula sit amet, rutrum justo. Sed suscipit sapien mi, nec congue arcu venenatis a. Vestibulum tempor massa a gravida tempor. Donec nisl libero, aliquam in metus id, fringilla tempus tortor. In eget congue nisi, id luctus tellus. Fusce quis varius elit. Nunc volutpat, enim ac lacinia gravida.";
	char* res = new char[2];
	cout << "Enviando" << endl;
	cout << cadena << endl;

	memcpy(res, s.doOperation(argv[1], 7200, 1, cadena), 2);
	cout << "Recibido" << endl;
	cout << res << endl;
	return 0;
}